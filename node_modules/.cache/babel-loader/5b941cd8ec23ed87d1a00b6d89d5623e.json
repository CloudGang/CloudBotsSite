{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UNLIMITED\\\\Documents\\\\Lambda\\\\CloudBotsSite\\\\CloudBotsBiz\\\\src\\\\Components\\\\OrderForm.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { FormGroup, Input, Button, Alert } from 'reactstrap';\nimport { BrowserHistory } from 'react-router-dom';\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nconst Form = styled.form`\n  max-width: 800px;\n  margin: 60px auto;\n  border: 2px solid black;\n  padding: 20px;\n`;\nconst Styledh3 = styled.h3`\n  text-align: center;\n`;\nconst StyledToppings = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  height: 400px;\n  align-content: space-between;\n  padding: 20px;\n`;\nconst StyledLabel = styled.label`\n  padding: 10px 0;\n`;\nconst StyledOrderFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nexport default function OrderForm({\n  order,\n  setOrder\n}) {\n  const initialState = {\n    customer: '',\n    size: '',\n    sauces: [{\n      name: 'Original Red',\n      id: 'original-red',\n      isChecked: false\n    }, {\n      name: 'Spinach Alfredo',\n      id: 'spinach-alfredo',\n      isChecked: false\n    }, {\n      name: 'Garlic Ranch',\n      id: 'garlic-ranch',\n      isChecked: false\n    }, {\n      name: 'BBQ Sauce',\n      id: 'bbq-sauce',\n      isChecked: false\n    }],\n    toppingsChecked: [{\n      name: 'Pepperoni',\n      id: 'pepperoni',\n      isChecked: false,\n      cypressTest: 'pepperoniTest'\n    }, {\n      name: 'Sausage',\n      id: 'sausage',\n      isChecked: false,\n      cypressTest: 'sausageTest'\n    }, {\n      name: 'Canadian Bacon',\n      id: 'canadian-bacon',\n      isChecked: false\n    }, {\n      name: 'Spicy Italian Sausage',\n      id: 'spicy-italian-sausage',\n      isChecked: false\n    }, {\n      name: 'Grilled Chicken',\n      id: 'grilled-chicken',\n      isChecked: false\n    }, {\n      name: 'Onions',\n      id: 'onions',\n      isChecked: false\n    }, {\n      name: 'Green Pepper',\n      id: 'green-pepper',\n      isChecked: false\n    }, {\n      name: 'Diced Tomatos',\n      id: 'diced-tomatos',\n      isChecked: false\n    }, {\n      name: 'Black Olives',\n      id: 'black-olives',\n      isChecked: false\n    }, {\n      name: 'Roasted Garlic',\n      id: 'roasted-garlic',\n      isChecked: false\n    }, {\n      name: 'Artichoke Hearts',\n      id: 'artichoke-hearts',\n      isChecked: false\n    }, {\n      name: 'Three Cheese',\n      id: 'three-cheese',\n      isChecked: false\n    }, {\n      name: 'Pineapple',\n      id: 'pineapple',\n      isChecked: false\n    }, {\n      name: 'Extra Cheese',\n      id: 'extra-cheese',\n      isChecked: false\n    }],\n    substitute: '',\n    instructions: '',\n    quantity: ''\n  };\n  const [formState, setFormState] = useState(initialState);\n  const [serverError, setServerError] = useState('');\n  const [formValid, setFormValid] = useState(false);\n  const [isButtonDisabled, setButtonDisabled] = useState(true);\n  const [errors, setErrors] = useState(initialState);\n  const formSchema = yup.object().shape({\n    customer: yup.string().min(3, \"Your name is required\").required(\"Your name is required\"),\n    size: yup.string().required(\"Please choose a size\"),\n    sauces: yup.array().of(yup.object().shape({\n      name: yup.string(),\n      id: yup.string(),\n      isChecked: yup.boolean()\n    })),\n    toppingsChecked: yup.array().of(yup.object().shape({\n      name: yup.string(),\n      id: yup.string(),\n      isChecked: yup.boolean()\n    })),\n    instructions: yup.string()\n  });\n\n  const validateChange = e => {\n    const name = e.target.name;\n    yup.reach(formSchema, e.target.name, e.target.type).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      console.log(\"OrderForm -> err\", err);\n      setErrors({ ...errors,\n        [name]: err.errors\n      });\n    });\n  };\n\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid);\n      setFormValid(valid);\n      console.log(\"OrderForm -> valid\", valid);\n    });\n  }, [formState]);\n\n  const handleChange = e => {\n    e.persist();\n    let newFormState;\n\n    if (e.target.type === 'checkbox') {\n      newFormState = { ...formState,\n        toppingsChecked: formState.toppingsChecked.map(item => {\n          return item.id === e.target.id ? { ...item,\n            isChecked: !item.isChecked\n          } : { ...item\n          };\n        })\n      };\n    } else if (e.target.type === 'radio') {\n      newFormState = { ...formState,\n        sauces: formState.sauces.map(item => {\n          return item.id === e.target.id ? { ...item,\n            isChecked: !item.isChecked\n          } : { ...item,\n            isChecked: false\n          };\n        })\n      };\n    } else {\n      newFormState = { ...formState,\n        [e.target.name]: e.target.value\n      };\n    }\n\n    validateChange(e);\n    setFormState(newFormState);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post('https://reqres.in/api/users', formState).then(res => {\n      console.log(res.data);\n      const data = { ...res.data,\n        sauces: res.data.sauces.filter(sauce => sauce.isChecked === true),\n        toppingsChecked: res.data.toppingsChecked.filter(toppings => toppings.isChecked === true)\n      };\n      setOrder([...order, data]);\n      setFormState(initialState);\n    }).catch(err => console.log(err));\n  };\n\n  return /*#__PURE__*/React.createElement(Form, {\n    style: {\n      padding: '40px'\n    },\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Styledh3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 7\n    }\n  }, \"Build Your Own Bot\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 9\n    }\n  }, \"Your Name\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Your Name\",\n    value: formState.customer,\n    onChange: e => handleChange(e),\n    name: \"customer\",\n    \"data-cy\": \"customer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 9\n    }\n  }), errors.customer ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 167,\n      columnNumber: 29\n    }\n  }, errors.customer) : null), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 9\n    }\n  }, \"Select Platform\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: e => handleChange(e),\n    value: formState.size,\n    name: \"size\",\n    \"data-cy\": \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 11\n    }\n  }, \"Select Platform\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"small\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"Facebook\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"medium\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 11\n    }\n  }, \"Instagram\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"large\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 11\n    }\n  }, \"Large\")), errors.size ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 25\n    }\n  }, errors.size) : null), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, \"Choice of Sauce\"), formState.sauces.map(sauce => {\n    return /*#__PURE__*/React.createElement(StyledLabel, {\n      htlmFor: sauce.id,\n      check: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"radio\",\n      name: \"sauces\",\n      id: sauce.id,\n      onChange: e => handleChange(e),\n      value: sauce.isChecked,\n      checked: sauce.isChecked,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 15\n      }\n    }), sauce.name);\n  })), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, \"Add Toppings\"), /*#__PURE__*/React.createElement(StyledToppings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 9\n    }\n  }, formState.toppingsChecked.map(toppings => {\n    return /*#__PURE__*/React.createElement(StyledLabel, {\n      htmlFor: toppings.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      checked: toppings.isChecked,\n      name: \"toppingsChecked\",\n      id: toppings.id,\n      \"data-cy\": toppings.cypressTest,\n      onChange: e => handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 17\n      }\n    }), toppings.name);\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 9\n    }\n  }, \"Instructions\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"instructions\",\n    value: formState.instructions,\n    onChange: e => handleChange(e),\n    placeholder: \"Anything else you'd like to add?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    type: \"submit\",\n    \"data-cy\": \"submit\",\n    disabled: isButtonDisabled,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 7\n    }\n  }, \"Place your order!\"));\n}","map":{"version":3,"sources":["C:/Users/UNLIMITED/Documents/Lambda/CloudBotsSite/CloudBotsBiz/src/Components/OrderForm.jsx"],"names":["React","useState","useEffect","axios","FormGroup","Input","Button","Alert","BrowserHistory","styled","yup","Form","form","Styledh3","h3","StyledToppings","div","StyledLabel","label","StyledOrderFooter","OrderForm","order","setOrder","initialState","customer","size","sauces","name","id","isChecked","toppingsChecked","cypressTest","substitute","instructions","quantity","formState","setFormState","serverError","setServerError","formValid","setFormValid","isButtonDisabled","setButtonDisabled","errors","setErrors","formSchema","object","shape","string","min","required","array","of","boolean","validateChange","e","target","reach","type","validate","value","then","valid","catch","err","console","log","isValid","handleChange","persist","newFormState","map","item","handleSubmit","preventDefault","post","res","data","filter","sauce","toppings","padding","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { FormGroup, Input, Button, Alert } from 'reactstrap'\nimport { BrowserHistory } from 'react-router-dom'\nimport styled from 'styled-components'\nimport * as yup from 'yup'\n\nconst Form = styled.form`\n  max-width: 800px;\n  margin: 60px auto;\n  border: 2px solid black;\n  padding: 20px;\n`\nconst Styledh3 = styled.h3`\n  text-align: center;\n`\nconst StyledToppings = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  height: 400px;\n  align-content: space-between;\n  padding: 20px;\n`\nconst StyledLabel = styled.label`\n  padding: 10px 0;\n`\nconst StyledOrderFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\nexport default function OrderForm({ order, setOrder }) {\n\n  const initialState = {\n    customer: '',\n    size: '',\n    sauces: [\n      { name: 'Original Red', id: 'original-red', isChecked: false },\n      { name: 'Spinach Alfredo', id: 'spinach-alfredo', isChecked: false },\n      { name: 'Garlic Ranch', id: 'garlic-ranch', isChecked: false },\n      { name: 'BBQ Sauce', id: 'bbq-sauce', isChecked: false }\n    ],\n    toppingsChecked: [\n      { name: 'Pepperoni', id: 'pepperoni', isChecked: false, cypressTest: 'pepperoniTest' },\n      { name: 'Sausage', id: 'sausage', isChecked: false, cypressTest: 'sausageTest' },\n      { name: 'Canadian Bacon', id: 'canadian-bacon', isChecked: false },\n      { name: 'Spicy Italian Sausage', id: 'spicy-italian-sausage', isChecked: false },\n      { name: 'Grilled Chicken', id: 'grilled-chicken', isChecked: false },\n      { name: 'Onions', id: 'onions', isChecked: false },\n      { name: 'Green Pepper', id: 'green-pepper', isChecked: false },\n      { name: 'Diced Tomatos', id: 'diced-tomatos', isChecked: false },\n      { name: 'Black Olives', id: 'black-olives', isChecked: false },\n      { name: 'Roasted Garlic', id: 'roasted-garlic', isChecked: false },\n      { name: 'Artichoke Hearts', id: 'artichoke-hearts', isChecked: false },\n      { name: 'Three Cheese', id: 'three-cheese', isChecked: false },\n      { name: 'Pineapple', id: 'pineapple', isChecked: false },\n      { name: 'Extra Cheese', id: 'extra-cheese', isChecked: false },\n    ],\n    substitute: '',\n    instructions: '',\n    quantity: ''\n  }\n\n  const [formState, setFormState] = useState(initialState);\n  const [serverError, setServerError] = useState('')\n  const [formValid, setFormValid] = useState(false)\n  const [isButtonDisabled, setButtonDisabled] = useState(true)\n  const [errors, setErrors] = useState(initialState)\n\n  const formSchema = yup.object().shape({\n    customer: yup.string().min(3, \"Your name is required\").required(\"Your name is required\"),\n    size: yup.string().required(\"Please choose a size\"),\n    sauces: yup.array()\n      .of(yup.object().shape({\n        name: yup.string(),\n        id: yup.string(),\n        isChecked: yup.boolean()\n      })),\n    toppingsChecked: yup.array()\n      .of(yup.object().shape({\n        name: yup.string(),\n        id: yup.string(),\n        isChecked: yup.boolean()\n      })),\n    instructions: yup.string()\n  })\n\n  const validateChange = e => {\n    const name = e.target.name;\n    yup\n      .reach(formSchema, e.target.name, e.target.type)\n      .validate(e.target.value)\n      .then(valid => {\n        setErrors({ ...errors, [e.target.name]: \"\" })\n      })\n      .catch(err => {\n        console.log(\"OrderForm -> err\", err)\n        setErrors({ ...errors, [name]: err.errors })\n      })\n  }\n\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid)\n      setFormValid(valid)\n      console.log(\"OrderForm -> valid\", valid)\n    })\n  }, [formState])\n\n  const handleChange = e => {\n    e.persist();\n    let newFormState;\n    if (e.target.type === 'checkbox') {\n      newFormState = {\n        ...formState,\n        toppingsChecked: formState.toppingsChecked.map(item => {\n          return (\n            item.id === e.target.id ? {\n              ...item, isChecked: !item.isChecked\n            } : { ...item }\n          )\n        })\n      }\n    } else if (e.target.type === 'radio') {\n      newFormState = {\n        ...formState,\n        sauces: formState.sauces.map(item => {\n          return (\n            item.id === e.target.id ? {\n              ...item, isChecked: !item.isChecked\n            } : { ...item, isChecked: false }\n          )\n        })\n      }\n    } else {\n      newFormState = {\n        ...formState, [e.target.name]: e.target.value\n      }\n    }\n    validateChange(e)\n    setFormState(newFormState)\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    axios.post('https://reqres.in/api/users', formState)\n      .then(res => {\n        console.log(res.data)\n        const data = {\n          ...res.data,\n          sauces: res.data.sauces.filter(sauce => sauce.isChecked === true),\n          toppingsChecked: res.data.toppingsChecked.filter(toppings => toppings.isChecked === true),\n        }\n        setOrder([...order, data])\n        setFormState(initialState)\n      }\n      )\n      .catch(err => console.log(err))\n  }\n\n  return (\n    <Form style={{ padding: '40px' }} onSubmit={e => handleSubmit(e)}>\n      <Styledh3>Build Your Own Bot</Styledh3>\n      <FormGroup>\n        <legend>Your Name</legend>\n        <Input type=\"text\" placeholder=\"Your Name\" value={formState.customer} onChange={e => handleChange(e)} name=\"customer\" data-cy=\"customer\" />\n        {errors.customer ? (<Alert color=\"warning\">{errors.customer}</Alert>) : null}\n      </FormGroup>\n\n      <FormGroup>\n        <legend>Select Platform</legend>\n        <Input type=\"select\" onChange={e => handleChange(e)} value={formState.size} name=\"size\" data-cy=\"size\">\n          <option value=\"\">Select Platform</option>\n          <option value=\"small\">Facebook</option>\n          <option value=\"medium\">Instagram</option>\n          <option value=\"large\">Large</option>\n        </Input>\n        {errors.size ? (<Alert color=\"warning\">{errors.size}</Alert>) : null}\n      </FormGroup>\n\n      <FormGroup check style={{ display: 'flex', flexDirection: 'column' }}>\n        <legend>Choice of Sauce</legend>\n        {formState.sauces.map(sauce => {\n          return (\n            <StyledLabel htlmFor={sauce.id} check>\n              <Input type=\"radio\" name=\"sauces\" id={sauce.id} onChange={e => handleChange(e)} value={sauce.isChecked} checked={sauce.isChecked} />\n              {sauce.name}\n            </StyledLabel>\n          )\n        })}\n\n      </FormGroup>\n\n      <FormGroup check style={{ display: 'flex', flexDirection: 'column' }}>\n        <legend>Add Toppings</legend>\n        <StyledToppings>\n          {formState.toppingsChecked.map(toppings => {\n            return (\n              <StyledLabel htmlFor={toppings.id}>\n                <Input\n                  type=\"checkbox\"\n                  checked={toppings.isChecked} name=\"toppingsChecked\"\n                  id={toppings.id}\n                  data-cy={toppings.cypressTest}\n                  onChange={e => handleChange(e)}\n                />\n                {toppings.name}\n              </StyledLabel>\n            )\n          })}\n        </StyledToppings>\n      </FormGroup>\n      {/* \n      <FormGroup>\n        <legend>Choice of Substitute</legend>\n        <CustomInput type=\"switch\" label=\"Gluten Free Crust (+ $1.00\" value={formState.substitute} name=\"substitute\" onChange={e => handleChange(e)} />\n      </FormGroup> */}\n\n      <FormGroup>\n        <legend>Instructions</legend>\n        <Input type=\"text\" name=\"instructions\" value={formState.instructions} onChange={e => handleChange(e)} placeholder=\"Anything else you'd like to add?\" />\n      </FormGroup>\n\n      <Button type=\"submit\" data-cy=\"submit\" disabled={isButtonDisabled} color=\"primary\">Place your order!</Button>\n    </Form>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}