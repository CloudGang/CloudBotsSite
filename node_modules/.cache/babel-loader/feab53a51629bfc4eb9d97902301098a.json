{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\UNLIMITED\\\\Documents\\\\Lambda\\\\CloudBotsSite\\\\CloudBotsBiz\\\\src\\\\Components\\\\OrderForm.jsx\";\nimport React, { useState, useEffect, Component } from 'react';\nimport axios from 'axios';\nimport { FormGroup, Input, Button, Alert } from 'reactstrap';\nimport { BrowserHistory } from 'react-router-dom';\nimport { Link, NavLink } from \"react-router-dom\";\nimport styled from 'styled-components';\nimport * as yup from 'yup';\nimport history from './history';\nconst Form = styled.form`\n  max-width: 800px;\n  margin: 60px auto;\n  border: 2px solid black;\n  padding: 20px;\n`;\nconst Styledh3 = styled.h3`\n  text-align: center;\n`;\nconst StyledToppings = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  height: 400px;\n  align-content: space-between;\n  padding: 20px;\n`;\nconst StyledLabel = styled.label`\n  padding: 10px 0;\n`;\nconst StyledOrderFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\nexport default function OrderForm({\n  order,\n  setOrder\n}) {\n  const initialState = {\n    customer: '',\n    email: '',\n    size: '',\n    sauces: [{\n      name: 'Original Red',\n      id: 'original-red',\n      isChecked: false\n    }, {\n      name: 'Spinach Alfredo',\n      id: 'spinach-alfredo',\n      isChecked: false\n    }, {\n      name: 'Garlic Ranch',\n      id: 'garlic-ranch',\n      isChecked: false\n    }, {\n      name: 'BBQ Sauce',\n      id: 'bbq-sauce',\n      isChecked: false\n    }],\n    toppingsChecked: [{\n      name: 'Click',\n      id: 'autoclick',\n      isChecked: false,\n      cypressTest: 'autoclickTest'\n    }, {\n      name: 'Follow',\n      id: 'autofollow',\n      isChecked: false,\n      cypressTest: 'autofollTest'\n    }, {\n      name: 'Like',\n      id: 'spicy-italian-sausage',\n      isChecked: false\n    }, {\n      name: 'Post Like',\n      id: 'roasted-garlic',\n      isChecked: false\n    }, {\n      name: 'Page Like',\n      id: 'black-olives',\n      isChecked: false\n    }, {\n      name: 'UnFollow',\n      id: 'canadian-bacon',\n      isChecked: false\n    }, {\n      name: 'Unlike',\n      id: 'grilled-chicken',\n      isChecked: false\n    }, {\n      name: 'Post UnLike',\n      id: 'three-cheese',\n      isChecked: false\n    }, {\n      name: 'Page UnLike',\n      id: 'artichoke-hearts',\n      isChecked: false\n    }, {\n      name: 'Comment',\n      id: 'onions',\n      isChecked: false\n    }, {\n      name: 'Post',\n      id: 'green-pepper',\n      isChecked: false\n    }, {\n      name: 'Message',\n      id: 'diced-tomatos',\n      isChecked: false\n    }, {\n      name: 'Follow Tags',\n      id: 'pineapple',\n      isChecked: false\n    }, {\n      name: 'Pref Python',\n      id: 'python',\n      isChecked: false\n    }, {\n      name: 'Pref JavaScript',\n      id: 'jscript',\n      isChecked: false\n    }, {\n      name: 'Other ',\n      id: 'other',\n      isChecked: false\n    }],\n    instructions: '',\n    quantity: ''\n  };\n  const [formState, setFormState] = useState(initialState);\n  const [serverError, setServerError] = useState('');\n  const [formValid, setFormValid] = useState(false);\n  const [isButtonDisabled, setButtonDisabled] = useState(true);\n  const [errors, setErrors] = useState(initialState);\n  const formSchema = yup.object().shape({\n    customer: yup.string().min(3, \"Your name is required\").required(\"Your name is required\"),\n    email: yup.string().min(10, \"Your email is required\").required(\"Your email is required\"),\n    size: yup.string().required(\"Please choose a Platform\"),\n    sauces: yup.array().of(yup.object().shape({\n      name: yup.string(),\n      id: yup.string(),\n      isChecked: yup.boolean()\n    })),\n    toppingsChecked: yup.array().of(yup.object().shape({\n      name: yup.string(),\n      id: yup.string(),\n      isChecked: yup.boolean()\n    })),\n    instructions: yup.string()\n  });\n\n  const validateChange = e => {\n    const name = e.target.name;\n    yup.reach(formSchema, e.target.name, e.target.type).validate(e.target.value).then(valid => {\n      setErrors({ ...errors,\n        [e.target.name]: \"\"\n      });\n    }).catch(err => {\n      //console.log(\"OrderForm -> err\", err)\n      setErrors({ ...errors,\n        [name]: err.errors\n      });\n    });\n  };\n\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid);\n      setFormValid(valid);\n      console.log(\"OrderForm -> valid\", valid);\n    });\n  }, [formState]);\n\n  const handleChange = e => {\n    e.persist();\n    let newFormState;\n\n    if (e.target.type === 'checkbox') {\n      newFormState = { ...formState,\n        toppingsChecked: formState.toppingsChecked.map(item => {\n          return item.id === e.target.id ? { ...item,\n            isChecked: !item.isChecked\n          } : { ...item\n          };\n        })\n      };\n    } else {\n      newFormState = { ...formState,\n        [e.target.name]: e.target.value,\n        [e.target.email]: e.target.value\n      };\n    }\n\n    validateChange(e);\n    setFormState(newFormState);\n  };\n\n  const handleSubmit = e => {\n    e.preventDefault(); // axios({\n    //   method: \"POST\", \n    //   url:\"http://localhost:3002/send\", \n    //   data:  formState\n    // }).then((response)=>{\n    //   if (response.data.status === 'success'){\n    //     alert(\"Message Sent.\"); \n    //     this.resetForm()\n    //   }else if(response.data.status === 'fail'){\n    //     alert(\"Message failed to send.\")\n    //   }\n    // })\n\n    axios.post('https://reqres.in/api/users', formState).then(res => {\n      console.log(res.data);\n      const data = { ...res.data,\n        sauces: res.data.sauces.filter(sauce => sauce.isChecked === true),\n        toppingsChecked: res.data.toppingsChecked.filter(toppings => toppings.isChecked === true)\n      };\n      setOrder([...order, data]);\n      setFormState(initialState);\n    }).catch(err => console.log(err));\n  };\n\n  function popUp() {\n    alert(\"I am an alert box!\");\n  }\n\n  return /*#__PURE__*/React.createElement(Form, {\n    style: {\n      padding: '40px'\n    },\n    onSubmit: e => handleSubmit(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Styledh3, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 7\n    }\n  }, \"Build Your Own Bot\"), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, \"Your Name\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"Your Name\",\n    value: formState.customer,\n    onChange: e => handleChange(e),\n    name: \"customer\",\n    \"data-cy\": \"customer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 9\n    }\n  }), errors.customer ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 29\n    }\n  }, errors.customer) : null), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 9\n    }\n  }, \"Your Email\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"user123@mail.com\",\n    value: formState.email,\n    onChange: e => handleChange(e),\n    name: \"email\",\n    \"data-cy\": \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 9\n    }\n  }), errors.email ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 26\n    }\n  }, errors.email) : null), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, \"Select Platform\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"select\",\n    onChange: e => handleChange(e),\n    value: formState.size,\n    name: \"size\",\n    \"data-cy\": \"size\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 11\n    }\n  }, \"Select Platform\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 11\n    }\n  }, \"Facebook\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Instagram\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, \"Instagram\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Other\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 11\n    }\n  }, \"Other\")), errors.size ? /*#__PURE__*/React.createElement(Alert, {\n    color: \"warning\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 25\n    }\n  }, errors.size) : null), /*#__PURE__*/React.createElement(FormGroup, {\n    check: true,\n    style: {\n      display: 'flex',\n      flexDirection: 'column'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 9\n    }\n  }, \"Choose Functions\"), /*#__PURE__*/React.createElement(StyledToppings, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 9\n    }\n  }, formState.toppingsChecked.map(toppings => {\n    return /*#__PURE__*/React.createElement(StyledLabel, {\n      htmlFor: toppings.id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      type: \"checkbox\",\n      checked: toppings.isChecked,\n      name: \"toppingsChecked\",\n      id: toppings.id,\n      \"data-cy\": toppings.cypressTest,\n      onChange: e => handleChange(e),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }\n    }), toppings.name);\n  }))), /*#__PURE__*/React.createElement(FormGroup, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"legend\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 9\n    }\n  }, \"Instructions\"), /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    name: \"instructions\",\n    value: formState.instructions,\n    onChange: e => handleChange(e),\n    placeholder: \"Anything else you'd like to add?\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 222,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    onclick: \"myFunction()\",\n    type: \"submit\",\n    \"data-cy\": \"submit\",\n    disabled: isButtonDisabled,\n    color: \"primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }\n  }, \"Request Bot\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Button, {\n    onclick: \"myFunction()\",\n    type: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }\n  }));\n}","map":{"version":3,"sources":["C:/Users/UNLIMITED/Documents/Lambda/CloudBotsSite/CloudBotsBiz/src/Components/OrderForm.jsx"],"names":["React","useState","useEffect","Component","axios","FormGroup","Input","Button","Alert","BrowserHistory","Link","NavLink","styled","yup","history","Form","form","Styledh3","h3","StyledToppings","div","StyledLabel","label","StyledOrderFooter","OrderForm","order","setOrder","initialState","customer","email","size","sauces","name","id","isChecked","toppingsChecked","cypressTest","instructions","quantity","formState","setFormState","serverError","setServerError","formValid","setFormValid","isButtonDisabled","setButtonDisabled","errors","setErrors","formSchema","object","shape","string","min","required","array","of","boolean","validateChange","e","target","reach","type","validate","value","then","valid","catch","err","isValid","console","log","handleChange","persist","newFormState","map","item","handleSubmit","preventDefault","post","res","data","filter","sauce","toppings","popUp","alert","padding","display","flexDirection"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, Component } from 'react'\nimport axios from 'axios'\nimport { FormGroup, Input, Button, Alert } from 'reactstrap'\nimport { BrowserHistory } from 'react-router-dom'\nimport { Link, NavLink } from \"react-router-dom\"\nimport styled from 'styled-components'\nimport * as yup from 'yup'\nimport history from './history';\n\n\nconst Form = styled.form`\n  max-width: 800px;\n  margin: 60px auto;\n  border: 2px solid black;\n  padding: 20px;\n`\nconst Styledh3 = styled.h3`\n  text-align: center;\n`\nconst StyledToppings = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  height: 400px;\n  align-content: space-between;\n  padding: 20px;\n`\nconst StyledLabel = styled.label`\n  padding: 10px 0;\n`\nconst StyledOrderFooter = styled.div`\n  display: flex;\n  justify-content: space-between;\n`\n  \nexport default function OrderForm({ order, setOrder }) {\n\n  const initialState = {\n    customer: '',\n    email: '',\n    size: '',\n    sauces: [\n      { name: 'Original Red', id: 'original-red', isChecked: false },\n      { name: 'Spinach Alfredo', id: 'spinach-alfredo', isChecked: false },\n      { name: 'Garlic Ranch', id: 'garlic-ranch', isChecked: false },\n      { name: 'BBQ Sauce', id: 'bbq-sauce', isChecked: false }\n    ],\n    toppingsChecked: [\n      { name: 'Click', id: 'autoclick', isChecked: false, cypressTest: 'autoclickTest' },\n      { name: 'Follow', id: 'autofollow', isChecked: false, cypressTest: 'autofollTest' },\n      { name: 'Like', id: 'spicy-italian-sausage', isChecked: false },\n      { name: 'Post Like', id: 'roasted-garlic', isChecked: false },\n      { name: 'Page Like', id: 'black-olives', isChecked: false },\n      { name: 'UnFollow', id: 'canadian-bacon', isChecked: false },\n      { name: 'Unlike', id: 'grilled-chicken', isChecked: false },\n      { name: 'Post UnLike', id: 'three-cheese', isChecked: false },\n      { name: 'Page UnLike', id: 'artichoke-hearts', isChecked: false },\n      { name: 'Comment', id: 'onions', isChecked: false },\n      { name: 'Post', id: 'green-pepper', isChecked: false },\n      { name: 'Message', id: 'diced-tomatos', isChecked: false },  \n      { name: 'Follow Tags', id: 'pineapple', isChecked: false },\n      { name: 'Pref Python', id: 'python', isChecked: false },\n      { name: 'Pref JavaScript', id: 'jscript', isChecked: false },\n      { name: 'Other ', id: 'other', isChecked: false },\n    ],\n    instructions: '',\n    quantity: ''\n  }\n\n  const [formState, setFormState] = useState(initialState);\n  const [serverError, setServerError] = useState('')\n  const [formValid, setFormValid] = useState(false)\n  const [isButtonDisabled, setButtonDisabled] = useState(true)\n  const [errors, setErrors] = useState(initialState)\n\n  const formSchema = yup.object().shape({\n    customer: yup.string().min(3, \"Your name is required\").required(\"Your name is required\"),\n    email: yup.string().min(10, \"Your email is required\").required(\"Your email is required\"),\n    size: yup.string().required(\"Please choose a Platform\"),\n    sauces: yup.array()\n      .of(yup.object().shape({\n        name: yup.string(),\n        id: yup.string(),\n        isChecked: yup.boolean()\n      })),\n    toppingsChecked: yup.array()\n      .of(yup.object().shape({\n        name: yup.string(),\n        id: yup.string(),\n        isChecked: yup.boolean()\n      })),\n    instructions: yup.string()\n  })\n\n  const validateChange = e => {\n    const name = e.target.name;\n    yup\n      .reach(formSchema, e.target.name, e.target.type)\n      .validate(e.target.value)\n      .then(valid => {\n        setErrors({ ...errors, [e.target.name]: \"\" })\n      })\n      .catch(err => {\n        //console.log(\"OrderForm -> err\", err)\n        setErrors({ ...errors, [name]: err.errors })\n      })\n  }\n\n  useEffect(() => {\n    formSchema.isValid(formState).then(valid => {\n      setButtonDisabled(!valid)\n      setFormValid(valid)\n      console.log(\"OrderForm -> valid\", valid)\n    })\n  }, [formState])\n\n  const handleChange = e => {\n    e.persist();\n    let newFormState;\n    if (e.target.type === 'checkbox') {\n      newFormState = {\n        ...formState,\n        toppingsChecked: formState.toppingsChecked.map(item => {\n          return (\n            item.id === e.target.id ? {\n              ...item, isChecked: !item.isChecked\n            } : { ...item }\n          )\n        })\n      }\n    } else {\n      newFormState = {\n        ...formState, [e.target.name]: e.target.value, [e.target.email]: e.target.value\n      }\n    }\n    validateChange(e)\n    setFormState(newFormState)\n  }\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    // axios({\n    //   method: \"POST\", \n    //   url:\"http://localhost:3002/send\", \n    //   data:  formState\n    // }).then((response)=>{\n    //   if (response.data.status === 'success'){\n    //     alert(\"Message Sent.\"); \n    //     this.resetForm()\n    //   }else if(response.data.status === 'fail'){\n    //     alert(\"Message failed to send.\")\n    //   }\n    // })\n    axios.post('https://reqres.in/api/users', formState)\n      .then(res => {\n        console.log(res.data)\n        const data = {\n          ...res.data,\n          sauces: res.data.sauces.filter(sauce => sauce.isChecked === true),\n          toppingsChecked: res.data.toppingsChecked.filter(toppings => toppings.isChecked === true),\n        }\n        setOrder([...order, data])\n        setFormState(initialState)\n      }\n      )\n      .catch(err => console.log(err))\n\n  }\n\n  function popUp() {\n    alert(\"I am an alert box!\");\n  }\n  return (\n    <Form style={{ padding: '40px' }} onSubmit={e => handleSubmit(e)}>\n      <Styledh3>Build Your Own Bot</Styledh3>\n      <FormGroup>\n        <legend>Your Name</legend>\n        <Input type=\"text\" placeholder=\"Your Name\" value={formState.customer} onChange={e => handleChange(e)} name=\"customer\" data-cy=\"customer\" />\n        {errors.customer ? (<Alert color=\"warning\">{errors.customer}</Alert>) : null}\n      </FormGroup>\n\n      <FormGroup>\n        <legend>Your Email</legend>\n        <Input type=\"text\" placeholder=\"user123@mail.com\" value={formState.email} onChange={e => handleChange(e)} name=\"email\" data-cy=\"email\" />\n        {errors.email ? (<Alert color=\"warning\">{errors.email}</Alert>) : null}\n      </FormGroup>\n\n      <FormGroup>\n        <legend>Select Platform</legend>\n        <Input type=\"select\" onChange={e => handleChange(e)} value={formState.size} name=\"size\" data-cy=\"size\">\n          <option value=\"\">Select Platform</option>\n          <option value=\"Facebook\">Facebook</option>\n          <option value=\"Instagram\">Instagram</option>\n          <option value=\"Other\">Other</option>\n        </Input>\n        {errors.size ? (<Alert color=\"warning\">{errors.size}</Alert>) : null}\n      </FormGroup>\n\n\n      <FormGroup check style={{ display: 'flex', flexDirection: 'column' }}>\n        <legend>Choose Functions</legend>\n        <StyledToppings>\n          {formState.toppingsChecked.map(toppings => {\n            return (\n              <StyledLabel htmlFor={toppings.id}>\n                <Input\n                  type=\"checkbox\"\n                  checked={toppings.isChecked} name=\"toppingsChecked\"\n                  id={toppings.id}\n                  data-cy={toppings.cypressTest}\n                  onChange={e => handleChange(e)}\n                />\n                {toppings.name}\n              </StyledLabel>\n            )\n          })}\n        </StyledToppings>\n      </FormGroup>\n\n      <FormGroup>\n        <legend>Instructions</legend>\n        <Input type=\"text\" name=\"instructions\" value={formState.instructions} onChange={e => handleChange(e)} placeholder=\"Anything else you'd like to add?\" />\n      </FormGroup>\n    \n      <Button onclick=\"myFunction()\" type=\"submit\" data-cy=\"submit\" disabled={isButtonDisabled} color=\"primary\" >Request Bot</Button>\n      <br />\n      <Button onclick=\"myFunction()\" type/>\n    </Form>\n  )\n  \n}\n"]},"metadata":{},"sourceType":"module"}